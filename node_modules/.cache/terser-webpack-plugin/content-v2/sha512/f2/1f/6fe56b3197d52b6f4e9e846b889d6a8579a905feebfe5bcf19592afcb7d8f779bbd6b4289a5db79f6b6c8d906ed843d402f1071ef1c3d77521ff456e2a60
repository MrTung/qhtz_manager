{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-58ba1510\"],{\"1bd2\":function(e,t,i){},4180:function(e,t,i){\"use strict\";var a=i(\"d277\"),s=i.n(a);s.a},\"56fe\":function(e,t,i){\"use strict\";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"app-container\"},[i(\"el-form\",{ref:\"form\",attrs:{model:e.form}},[i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"任务状态\",\"label-width\":\"80px\",prop:\"shopId\"}},[i(\"el-select\",{attrs:{placeholder:\"请选择任务状态\"},model:{value:e.form.taskStatusId,callback:function(t){e.$set(e.form,\"taskStatusId\",t)},expression:\"form.taskStatusId\"}},e._l(e.statusList,function(e){return i(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"日期范围\",\"label-width\":\"70px\"}},[i(\"el-date-picker\",{attrs:{type:\"date\",\"value-format\":\"yyyy-MM-dd\",format:\"yyyy-MM-dd\",placeholder:\"请选择开始日期\"},model:{value:e.form.starttime,callback:function(t){e.$set(e.form,\"starttime\",t)},expression:\"form.starttime\"}}),e._v(\" \"),i(\"span\",[e._v(\"至\")]),e._v(\" \"),i(\"el-date-picker\",{attrs:{type:\"date\",\"value-format\":\"yyyy-MM-dd\",format:\"yyyy-MM-dd\",placeholder:\"请选择结束日期\"},model:{value:e.form.endtime,callback:function(t){e.$set(e.form,\"endtime\",t)},expression:\"form.endtime\"}})],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\"},[i(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.fetchData}},[e._v(\"查询\")]),e._v(\" \"),i(\"el-button\",{on:{click:e.onCancel}},[e._v(\"重置\")])],1)],1),e._v(\" \"),i(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.listLoading,expression:\"listLoading\"}],attrs:{data:e.list,\"element-loading-text\":\"Loading\",border:\"\",fit:\"\",\"highlight-current-row\":\"\"}},[i(\"el-table-column\",{attrs:{align:\"center\",label:\"序号\",width:\"95\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),e._v(\" \"),i(\"el-table-column\",{attrs:{label:\"商品信息\",align:\"center\",width:\"350\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[i(\"div\",{staticStyle:{display:\"flex\",width:\"100%\",\"flex-direction\":\"row\"}},[i(\"div\",[i(\"img\",{staticStyle:{width:\"100px\",height:\"100px\",border:\"#EBEEF5 solid 1px\"},attrs:{src:t.row.goodsImg}})]),e._v(\" \"),i(\"div\",{staticStyle:{display:\"inline-block\",\"text-align\":\"left\",\"font-size\":\"15px\",\"margin-left\":\"15px\"}},[i(\"a\",{staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"13px\",\"line-height\":\"20px\"},attrs:{href:t.row.goodsUrl,target:\"_blank\"}},[e._v(e._s(t.row.goodsTitle))]),e._v(\" \"),i(\"div\",[i(\"span\",{staticStyle:{\"line-height\":\"30px\",\"font-size\":\"17px\",color:\"red\",\"font-weight\":\"bold\"}},[e._v(\"￥\"+e._s(t.row.unitPrice.toFixed(2)))]),e._v(\"\\n               \\n              \"),i(\"span\",{staticStyle:{\"font-size\":\"13px\"}},[e._v(\"佣金:￥\"+e._s(t.row.salary.toFixed(2)))])]),e._v(\" \"),i(\"div\",{staticStyle:{\"line-height\":\"30px\",display:\"flex\"}},[i(\"span\",[e._v(e._s(t.row.shopName))]),e._v(\" \"),\"PC\"==t.row.clientType?i(\"svg-icon\",{staticStyle:{width:\"25px\",height:\"25px\",\"margin-left\":\"10px\",\"margin-top\":\"2px\"},attrs:{\"icon-class\":\"diannao\"}}):i(\"svg-icon\",{staticStyle:{width:\"25px\",height:\"25px\",\"margin-left\":\"10px\",\"margin-top\":\"2px\"},attrs:{\"icon-class\":\"shouji\"}})],1)])])]}}])}),e._v(\" \"),i(\"el-table-column\",{attrs:{label:\"商家\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(e._s(t.row.businessName))]}}])}),e._v(\" \"),i(\"el-table-column\",{attrs:{label:\"收货要求\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(e._s(t.row.deliverTime))]}}])}),e._v(\" \"),i(\"el-table-column\",{attrs:{label:\"评价要求\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(e._s(t.row.evaluateRequire))]}}])}),e._v(\" \"),i(\"el-table-column\",{attrs:{label:\"支付方式\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(e._s(t.row.payMent))]}}])}),e._v(\" \"),i(\"el-table-column\",{attrs:{label:\"费用\",width:\"130\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[i(\"div\",{staticStyle:{\"line-height\":\"30px\",\"font-size\":\"15px\"}},[e._v(\"本金:\"+e._s(t.row.unitPrice*t.row.buyNum*t.row.missionQuantity)+\"元\")]),e._v(\" \"),i(\"div\",{staticStyle:{\"line-height\":\"30px\",\"font-size\":\"15px\"}},[e._v(\"佣金:\"+e._s(t.row.salary*t.row.missionQuantity)+\"元\")])]}}])}),e._v(\" \"),i(\"el-table-column\",{attrs:{label:\"已接单/任务总数\",width:\"150\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(e._s(t.row.missionQuantity-t.row.residueQuantity)+\"/\"+e._s(t.row.missionQuantity))]}}])}),e._v(\" \"),i(\"el-table-column\",{attrs:{\"class-name\":\"status-col\",label:\"状态\",width:\"110\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[i(\"el-tag\",{attrs:{type:e._f(\"statusFilter\")(t.row.taskStatusName)}},[e._v(e._s(t.row.taskStatusName))])]}}])}),e._v(\" \"),i(\"el-table-column\",{attrs:{align:\"center\",prop:\"dbCreateSysTime\",label:\"发布时间\",width:\"200\",formatter:e.formatTime}}),e._v(\" \"),i(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",width:\"230\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[i(\"el-button\",{attrs:{size:\"mini\",type:\"primary\"},on:{click:function(i){return e.operationHandle(t.$index,t.row)}}},[e._v(\"详情\")])]}}])})],1),e._v(\" \"),i(\"TaskInfo\",{ref:\"editUserDialog\",attrs:{isShowDialog:e.dialogTableVisible,taskData:e.selectTaskData},on:{editDialog:e.editDialogListener}})],1)},s=[],o=i(\"4328\"),l=i.n(o),r=i(\"ed08\"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"el-dialog\",{attrs:{title:\"编辑用户\",visible:e.isShowDialog,width:\"80%\",\"before-close\":e.handleClose,\"close-on-click-modal\":!1,\"close-on-press-escape\":!1},on:{\"update:visible\":function(t){e.isShowDialog=t}}},[i(\"div\",{staticClass:\"app-container\",staticStyle:{\"padding-top\":\"0px\"}},[i(\"div\",{staticStyle:{display:\"inline-flex\",width:\"100%\",\"margin-top\":\"10px\"}},[i(\"el-form\",{ref:\"mainForm\",staticClass:\"formview\",attrs:{model:e.mainForm,\"label-width\":\"120px\",rules:e.formRules,\"validate-on-rule-change\":!1}},[i(\"span\",{staticStyle:{display:\"block\",\"line-height\":\"50px\",\"font-size\":\"20px\",\"font-weight\":\"bold\",color:\"orange\"}},[e._v(\"任务基本信息:\")]),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"发布任务的店铺\",prop:\"shopId\"}},[i(\"el-input\",{attrs:{disabled:\"\"},model:{value:e.mainForm.shopName,callback:function(t){e.$set(e.mainForm,\"shopName\",t)},expression:\"mainForm.shopName\"}})],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"任务分类\",prop:\"missionType\"}},[i(\"el-select\",{attrs:{placeholder:\"请选择任务类型\",disabled:\"\"},model:{value:e.mainForm.missionType,callback:function(t){e.$set(e.mainForm,\"missionType\",t)},expression:\"mainForm.missionType\"}},e._l(e.shoptypelist,function(e){return i(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"终端类型\",prop:\"clientType\"}},[i(\"el-radio-group\",{attrs:{disabled:\"\"},model:{value:e.mainForm.clientType,callback:function(t){e.$set(e.mainForm,\"clientType\",t)},expression:\"mainForm.clientType\"}},[i(\"el-radio\",{attrs:{label:\"PC\",border:\"\"}},[e._v(\"电脑下单\")]),e._v(\" \"),i(\"el-radio\",{attrs:{label:\"APP\",border:\"\"}},[e._v(\"APP下单\")])],1)],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"商品链接\",prop:\"goodsUrl\"}},[i(\"el-input\",{attrs:{placeholder:\"请输入商品链接,手机端复制淘口令即可\",disabled:\"\"},model:{value:e.mainForm.goodsUrl,callback:function(t){e.$set(e.mainForm,\"goodsUrl\",t)},expression:\"mainForm.goodsUrl\"}})],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"商品标题\",prop:\"goodsTitle\"}},[i(\"el-input\",{attrs:{placeholder:\"请输入商品标题\",disabled:\"\"},model:{value:e.mainForm.goodsTitle,callback:function(t){e.$set(e.mainForm,\"goodsTitle\",t)},expression:\"mainForm.goodsTitle\"}})],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"商品主图\",prop:\"goodsImg\"}},[i(\"el-input\",{attrs:{placeholder:\"请输入商品主图,电脑打开商品详情,主图右键复制图片地址即可\",disabled:\"\"},model:{value:e.mainForm.goodsImg,callback:function(t){e.$set(e.mainForm,\"goodsImg\",t)},expression:\"mainForm.goodsImg\"}})],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"付款方式\",prop:\"payMent\"}},[i(\"el-radio-group\",{attrs:{disabled:\"\"},model:{value:e.mainForm.payMent,callback:function(t){e.$set(e.mainForm,\"payMent\",t)},expression:\"mainForm.payMent\"}},[i(\"el-radio\",{attrs:{label:\"平台担保\",border:\"\"}},[e._v(\"平台担保\")]),e._v(\" \"),i(\"el-radio\",{attrs:{label:\"平台担保 + 隔日返本金\",border:\"\"}},[e._v(\"平台担保 + 隔日返本金\")]),e._v(\" \"),i(\"el-radio\",{attrs:{label:\"商家远程代付\",border:\"\"}},[e._v(\"商家远程代付\")])],1)],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"单件商品价格\",prop:\"unitPrice\"}},[i(\"el-input\",{attrs:{placeholder:\"请输入商品单价\",type:\"number\",disabled:\"\"},model:{value:e.mainForm.unitPrice,callback:function(t){e.$set(e.mainForm,\"unitPrice\",e._n(t))},expression:\"mainForm.unitPrice\"}})],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"佣金\",prop:\"salary\"}},[i(\"el-input\",{attrs:{placeholder:\"请输入刷手完成订单所得报酬\",type:\"number\",disabled:\"\"},model:{value:e.mainForm.salary,callback:function(t){e.$set(e.mainForm,\"salary\",e._n(t))},expression:\"mainForm.salary\"}})],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"商品类型\",prop:\"goodsType\"}},[i(\"el-radio-group\",{attrs:{disabled:\"\"},model:{value:e.mainForm.goodsType,callback:function(t){e.$set(e.mainForm,\"goodsType\",t)},expression:\"mainForm.goodsType\"}},[i(\"el-radio\",{attrs:{label:\"实物\",border:\"\"}},[e._v(\"实物\")]),e._v(\" \"),i(\"el-radio\",{attrs:{label:\"虚拟商品\",border:\"\"}},[e._v(\"虚拟商品\")])],1)],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"收货时间\",prop:\"deliverTime\"}},[i(\"el-select\",{attrs:{placeholder:\"请选择\",disabled:\"\"},model:{value:e.mainForm.deliverTime,callback:function(t){e.$set(e.mainForm,\"deliverTime\",t)},expression:\"mainForm.deliverTime\"}},e._l(e.deliveroptions,function(e){return i(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.label}})}),1)],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"好评要求\",prop:\"evaluateRequire\"}},[i(\"el-radio-group\",{attrs:{disabled:\"\"},model:{value:e.mainForm.evaluateRequire,callback:function(t){e.$set(e.mainForm,\"evaluateRequire\",t)},expression:\"mainForm.evaluateRequire\"}},[i(\"el-radio\",{attrs:{label:\"默认好评\",border:\"\"}},[e._v(\"默认好评\")]),e._v(\" \"),i(\"el-radio\",{attrs:{label:\"文字好评\",border:\"\"}},[e._v(\"文字好评\")]),e._v(\" \"),i(\"el-radio\",{attrs:{label:\"带图好评\",border:\"\"}},[e._v(\"带图好评\")])],1)],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"发布数量\",prop:\"missionQuantity\"}},[i(\"el-input\",{attrs:{placeholder:\"请输入发布数量\",disabled:\"\"},model:{value:e.mainForm.missionQuantity,callback:function(t){e.$set(e.mainForm,\"missionQuantity\",t)},expression:\"mainForm.missionQuantity\"}})],1),e._v(\" \"),i(\"el-form-item\",{staticClass:\"form-item\",attrs:{label:\"其他备注\",prop:\"message\"}},[i(\"el-input\",{attrs:{placeholder:\"请输入你想刷手知晓的其他事项\",disabled:\"\"},model:{value:e.mainForm.message,callback:function(t){e.$set(e.mainForm,\"message\",t)},expression:\"mainForm.message\"}})],1)],1),e._v(\" \"),i(\"el-form\",{ref:\"otherForm\",staticClass:\"formview\",staticStyle:{\"margin-left\":\"20px\"},attrs:{model:e.otherForm,\"label-width\":\"120px\"}},[i(\"span\",{staticStyle:{display:\"block\",\"line-height\":\"50px\",\"font-size\":\"20px\",\"font-weight\":\"bold\",color:\"#409EFF\"}},[e._v(\"其他附属要求:\")]),e._v(\" \"),e._l(e.formList,function(t,a){return i(\"el-form-item\",{key:t.id,attrs:{label:t.label,prop:t.field}},[\"Checkbox\"==t.type?i(\"el-checkbox\",{attrs:{disabled:\"\"},model:{value:e.otherForm[t.field],callback:function(i){e.$set(e.otherForm,t.field,i)},expression:\"otherForm[formitem.field]\"}}):i(\"el-select\",{attrs:{placeholder:\"请选择\",disabled:\"\"},model:{value:e.otherForm[t.field],callback:function(i){e.$set(e.otherForm,t.field,i)},expression:\"otherForm[formitem.field]\"}},e._l(t.dataProvider,function(e){return i(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.label}})}),1)],1)})],2)],1)])])},m=[],u=(i(\"ac6a\"),function(){return[{field:\"huobisanjia\",label:\"货比三家\",type:\"Checkbox\",value:!1,dataProvider:\"\"},{field:\"zhuijiahaoping\",label:\"追加好评\",type:\"Checkbox\",value:!1,dataProvider:\"\"},{field:\"collection\",label:\"收藏店铺和商品\",type:\"Checkbox\",value:!1,dataProvider:\"\"},{field:\"addcart\",label:\"加购物车后购买\",type:\"Checkbox\",value:!1,dataProvider:\"\"},{field:\"chat\",label:\"拍前咨询客服\",type:\"Checkbox\",value:!1,dataProvider:\"\"},{field:\"sex\",label:\"买家性别\",type:\"select\",value:\"\",dataProvider:[{value:\"0\",label:\"不限\"},{value:\"1\",label:\"男\"},{value:\"2\",label:\"女\"}]},{field:\"yemiantingliu\",label:\"购买前页面停留\",type:\"Checkbox\",value:!1,dataProvider:[\"平台担保\",\"立返本金\",\"远程代付\"]},{field:\"liulanqita\",label:\"浏览其他商品\",type:\"Checkbox\",value:!1,dataProvider:\"\"},{field:\"age\",label:\"买家年龄\",type:\"select\",value:\"\",dataProvider:[{value:\"0\",label:\"不限\"},{value:\"1\",label:\"20岁以下\"},{value:\"2\",label:\"20-30岁\"},{value:\"3\",label:\"30-40岁\"},{value:\"4\",label:\"40-50岁\"}]},{field:\"allview\",label:\"完整浏览商品\",type:\"Checkbox\",value:!1,dataProvider:\"\"}]}),d=function(){return[{value:\"1\",label:\"立即好评\"},{value:\"2\",label:\"发货30分钟后好评\"},{value:\"3\",label:\"发货1天后好评\"},{value:\"4\",label:\"发货2天后好评\"},{value:\"5\",label:\"发货3天后好评\"},{value:\"6\",label:\"发货4天后好评\"},{value:\"7\",label:\"发货5天后好评\"},{value:\"8\",label:\"发货6天后好评\"}]},c=function(){return{shopId:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请选择您的店铺\"}],missionType:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请选择任务类型\"}],clientType:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请选择终端类型\"}],goodsUrl:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请输入商品链接\"}],goodsTitle:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请输入商品标题\"}],goodsImg:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请输入商品主图链接,可以找到淘宝或者京东的主图右键复制图片地址\"}],payMent:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请选择支付方式\"}],unitPrice:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请输入商品单价\"},{type:\"number\",message:\"单价必须为数字值\"}],buyNum:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请输入每单购买数量\"},{type:\"number\",message:\"数量必须为数字值\"}],salary:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请输入刷手完成所得报酬\"},{type:\"number\",message:\"佣金必须大于1\"}],goodsType:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请选择商品类型\"}],deliverTime:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请选择收货事件要求\"}],evaluateRequire:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请选择评价要求\"}],missionQuantity:[{required:!0,trigger:[\"blur\",\"change\"],message:\"请输入您想发布的任务数量\"}]}},f={name:\"taskInfo\",components:{},props:{isShowDialog:Boolean,taskData:{type:Object}},watch:{taskData:function(e,t){this.taskInfo=e,this.mainForm=this.taskInfo,this.formList=JSON.parse(this.mainForm.content);var i={};this.formList.forEach(function(e){i[e.field]=e.value}),this.otherForm=i}},data:function(){return{taskInfo:null,shopList:[],formList:[],shoptypelist:[],loading:!1,deliveroptions:[],formRules:{},otherForm:{},mainForm:{id:\"\",shopId:\"\",missionType:\"\",clientType:\"PC\",goodsUrl:\"\",goodsTitle:\"\",goodsImg:\"\",payMent:\"平台担保\",unitPrice:\"\",buyNum:\"1\",salary:\"\",goodsType:\"实物\",deliverTime:\"发货3天后好评\",evaluateRequire:\"默认好评\",missionQuantity:\"1\",message:\"\"}}},computed:{getbalance:function(){var e=this.$store.state.userinfo;return e.balance},getGoodsprice:function(){if(\"商家远程代付\"==this.mainForm.payMent)return 0;var e=this.mainForm.unitPrice*this.mainForm.buyNum*this.mainForm.missionQuantity;return e},getSalary:function(){var e=this.mainForm.salary*this.mainForm.missionQuantity;return e.toFixed(2)},getAlltakeoff:function(){var e=1*this.getSalary+1*this.getGoodsprice;return e.toFixed(2)}},created:function(){var e=this;this.axios.get(this.urls.shoptypelist).then(function(t){e.shoptypelist=t.data}),this.getShopList(),this.formList=u(),this.deliveroptions=d(),this.formRules=c()},mounted:function(){if(this.taskInfo){this.mainForm=this.taskInfo,this.formList=JSON.parse(this.mainForm.content);var e={};this.formList.forEach(function(t){e[t.field]=t.value}),this.otherForm=e}else{var t={};this.formList.forEach(function(e){t[e.field]=e.value}),this.otherForm=t}},methods:{getShopList:function(){var e={businessId:this.$store.state.userinfo?this.$store.state.userinfo.id:\"\",name:\"\",_uiName_:\"eleme\",_pagination:\"{'pageNumber':1,'pageSize':10}\"};this.axios.get(this.urls.shoplist+\"?\"+l.a.stringify(e)).then(function(e){})},onSubmit:function(){var e=this;if(this.getbalance<this.getGoodsprice+this.getSalary)return this.$message.error(\"您的账户余额不足以发布本次任务,请充值后再试\");this.$refs.mainForm.validate(function(t){if(!t)return console.log(\"error submit!!\"),!1;var i=e.$createElement;e.$msgbox({title:\"提示\",message:i(\"p\",null,[i(\"span\",null,\"本次任务将从您的账户扣除 \"),i(\"span\",{style:\"color: red;font-size:19px;font-weight:bold\"},\"￥\"+e.getAlltakeoff),i(\"span\",null,\",是否发布?\")]),showCancelButton:!0,confirmButtonText:\"确定\",cancelButtonText:\"取消\",beforeClose:function(t,i,a){\"confirm\"===t?(e.addMisson(\"4\"),a()):a()}}).then(function(e){})})},onSave:function(){var e=this;this.$refs.mainForm.validate(function(t){if(!t)return console.log(\"error submit!!\"),!1;e.addMisson(\"1\")})},addMisson:function(e){var t=this;this.formList.forEach(function(e){e.value=t.otherForm[e.field]});var i={id:\"\"|this.mainForm.id,taskStatusId:e,businessId:this.$store.state.userinfo.id,shopId:this.mainForm.shopId,missionType:this.mainForm.missionType,clientType:this.mainForm.clientType,goodsUrl:this.mainForm.goodsUrl,goodsImg:this.mainForm.goodsImg,goodsTitle:this.mainForm.goodsTitle,payMent:this.mainForm.payMent,unitPrice:this.mainForm.unitPrice,buyNum:this.mainForm.buyNum,goodsType:this.mainForm.goodsType,salary:this.mainForm.salary,deliverTime:this.mainForm.deliverTime,evaluateRequire:this.mainForm.evaluateRequire,missionQuantity:this.mainForm.missionQuantity,message:this.mainForm.message,content:JSON.stringify(this.formList)};this.loading=!0,this.axios.post(this.urls.addMission+\"?\"+l.a.stringify(i)).then(function(i){t.loading=!1,t.getBusinessinfo(),t.$message({message:\"1\"==e?\"保存成功!\":\"发布成功!\",type:\"success\"}),\"2\"==e&&(t.$refs.mainForm.resetFields(),t.$refs.otherForm.resetFields())})},getBusinessinfo:function(){var e=this;this.axios.get(this.urls.businessinfo).then(function(t){if(0==t.code)return e.$message.error(t.msg);var i=t.data;e.$store.commit(\"userinfo\",i)})},handleClose:function(){this.$emit(\"editDialog\",!1)}}},p=f,h=(i(\"4180\"),i(\"2877\")),g=Object(h[\"a\"])(p,n,m,!1,null,\"02b83827\",null),b=g.exports,v={components:{TaskInfo:b},filters:{statusFilter:function(e){var t={\"草稿\":\"info\",\"待审核\":\"gray\",\"审核中\":\"primary\",\"发布成功\":\"success\",\"任务完成\":\"danger\"};return t[e]}},computed:{getbalance:function(){var e=this.$store.state.userinfo;return e.balance}},data:function(){return{selectTaskData:{},dialogTableVisible:!1,statusList:[],list:null,listLoading:!0,form:{shopid:\"\",taskStatusId:\"\",starttime:\"\",endtime:\"\",_uiName_:\"eleme\",_pagination:\"{'pageNumber':1,'pageSize':1000}\"}}},created:function(){this.fetchData(),this.getStatusList()},methods:{handleClose:function(e){this.$confirm(\"确认关闭？\").then(function(t){e()}).catch(function(e){})},getStatusList:function(){var e=this;this.axios.get(this.urls.statuslist).then(function(t){e.statusList=t.data})},formatTime:function(e,t,i){return Object(r[\"a\"])(i)},onCancel:function(){this.form.shopid=\"\",this.form.taskStatusId=\"\",this.form.starttime=\"\",this.form.endtime=\"\"},fetchData:function(){var e=this;this.listLoading=!0,this.axios.get(this.urls.getMissionList+\"?\"+l.a.stringify(this.form)).then(function(t){e.list=t.data.list,e.listLoading=!1})},publish:function(e,t){var i=this,a=0;a=\"商家远程代付\"==t.payMent?0:t.unitPrice*t.buyNum*t.missionQuantity;var s=t.salary*t.missionQuantity;if(this.getbalance<a+s)return this.$message.error(\"您的账户余额不足以发布本次任务,请充值后再试\");var o=this.$createElement,r=a+s;this.$msgbox({title:\"提示\",message:o(\"p\",null,[o(\"span\",null,\"本次任务将从您的账户扣除 \"),o(\"span\",{style:\"color: red;font-size:19px;font-weight:bold\"},\"￥\"+r),o(\"span\",null,\",是否发布?\")]),showCancelButton:!0,confirmButtonText:\"确定\",cancelButtonText:\"取消\",beforeClose:function(e,a,s){if(\"confirm\"===e){var o={id:t.id};i.axios.post(i.urls.changgeMissionstatus+\"?\"+l.a.stringify(o)).then(function(e){i.fetchData(),i.$message({message:\"发布成功!\",type:\"success\"})}),s()}else s()}}).then(function(e){})},handleEdit:function(e,t){this.$router.push({name:\"newtask\",params:{form:t}})},operationHandle:function(e,t){this.dialogTableVisible=!0,this.selectTaskData=t},editDialogListener:function(e){this.dialogTableVisible=e},editMisson:function(){}}},y=v,_=(i(\"baf1\"),Object(h[\"a\"])(y,a,s,!1,null,\"7060ec0b\",null));t[\"default\"]=_.exports},baf1:function(e,t,i){\"use strict\";var a=i(\"1bd2\"),s=i.n(a);s.a},d277:function(e,t,i){}}]);","extractedComments":[]}