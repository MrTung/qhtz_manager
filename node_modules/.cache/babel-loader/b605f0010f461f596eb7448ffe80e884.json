{"remainingRequest":"/Users/dongxuwei/Desktop/系统相关/代码/advance-platform/node_modules/babel-loader/lib/index.js!/Users/dongxuwei/Desktop/系统相关/代码/advance-platform/src/utils/validate.js","dependencies":[{"path":"/Users/dongxuwei/Desktop/系统相关/代码/advance-platform/src/utils/validate.js","mtime":1568009570757},{"path":"/Users/dongxuwei/Desktop/系统相关/代码/advance-platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dongxuwei/Desktop/系统相关/代码/advance-platform/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/dongxuwei/Desktop/\\u7CFB\\u7EDF\\u76F8\\u5173/\\u4EE3\\u7801/advance-platform/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isExternal = isExternal;\nexports.validUsername = validUsername;\nexports.yanhaoBoxQuery = exports.yanhaoBoxlogin = exports.yanhaoQuery = exports.yanhaoPush = exports.yanhaologin = void 0;\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _qs = _interopRequireDefault(require(\"qs\"));\n\n/**\n * Created by PanJiaChen on 16/11/18.\n */\n\n/**\n * @param {string} path\n * @returns {Boolean}\n */\nfunction isExternal(path) {\n  return /^(https?:|mailto:|tel:)/.test(path);\n}\n/**\n * @param {string} str\n * @returns {Boolean}\n */\n\n\nfunction validUsername(str) {\n  var valid_map = ['admin', 'editor'];\n  return valid_map.indexOf(str.trim()) >= 0;\n}\n/**\n * 检测淘宝账户的等级\n * @param {string} str\n * @returns {Boolean}\n */\n\n\nvar yanhaologin = function yanhaologin(params) {\n  _axios.default // .get(\"http://120.77.176.144:3003/yanhaologin\")\n  .get(\"/yan/yanhaologin\").then(function (response) {\n    if (response.data) {\n      console.log(\"验号1登录成功\");\n    } else {\n      console.log(\"登录失败\");\n    }\n  });\n};\n\nexports.yanhaologin = yanhaologin;\n\nvar yanhaoPush = function yanhaoPush(username) {\n  var params = {\n    wangwang: username\n  };\n  return new Promise(function (resolve, reject) {\n    _axios.default // .post(\"http://120.77.176.144:3003/yanhaoPush\", params)\n    .post(\"/yan/yanhaoPush\", params).then(function (response) {\n      if (response.data && response.data.ok) {\n        resolve(1);\n      } else {\n        resolve(0);\n      }\n    });\n  });\n};\n\nexports.yanhaoPush = yanhaoPush;\n\nvar yanhaoQuery = function yanhaoQuery() {\n  var params = {\n    status: 4,\n    startDate: 1561564800000,\n    endDate: 1961564800000,\n    ps: 2,\n    pn: 1\n  };\n\n  _axios.default // .get(\"http://120.77.176.144:3003/yanhaoQuery\", params)\n  .get(\"/yan/yanhaoQuery\", params).then(function (response) {\n    if (response.data && response.data.res.length > 0) {\n      var targetArr = [];\n\n      for (var i = 0; i < response.data.res.length; i++) {\n        if (targetArr.indexOf(response.data.res[i].wangwang) == -1) targetArr.push(response.data.res[i].wangwang);else delete response.data.res[i];\n      }\n\n      response.data.res.forEach(function (item) {\n        addTaobao(item);\n      }); // console.log(JSON.stringify(response.data));\n    } else {\n      console.log(\"未查询到用户\");\n    }\n  });\n};\n\nexports.yanhaoQuery = yanhaoQuery;\n\nvar addTaobao = function addTaobao(item) {\n  if (item) {\n    _axios.default // .post('/admin/user/taobao/update' + \"?\" + Qs.stringify(item))\n    .post('/api/user/taobao/update' + \"?\" + _qs.default.stringify(item)).then(function (response) {});\n  }\n}; //////---------------------------魔盒验号-------------------------\n//登录\n\n\nvar yanhaoBoxlogin = function yanhaoBoxlogin() {\n  _axios.default // .get(\"http://dxw.toolmall.com:3003/yanhaoBoxlogin\")\n  .get(\"/yan/yanhaoBoxlogin\").then(function (response) {\n    if (response) {\n      console.log(\"验号2登录成功\");\n    } else {\n      console.log(\"登录失败\");\n    }\n  });\n}; //查询\n\n\nexports.yanhaoBoxlogin = yanhaoBoxlogin;\n\nvar yanhaoBoxQuery = function yanhaoBoxQuery(username) {\n  var params = {\n    wangwang: username\n  };\n  return new Promise(function (resolve, reject) {\n    _axios.default // .post(\"http://dxw.toolmall.com:3003/yanhaoQuerybox\", params)\n    .post(\"/yan/yanhaoQuerybox\", params).then(function (response) {\n      if (response.data) {\n        var item = {};\n        item.wangwang = username;\n        item.status = response.data.result == '正常' ? '4' : '3';\n        item.buyerLevel = response.data.vip_info;\n        item.buyerScore = response.data.buyerCre;\n        item.realName = response.data.nameconform == 1 ? '支付宝实名' : '未实名';\n        item.gender = response.data.sex == '男' ? \"M\" : 'F';\n        item.sentRate = response.data.sent_rate;\n        item.receivedRate = response.data.received_rate;\n        item.buyerTotalNum = response.data.badNum + response.data.goodNum;\n        item.buyerGoodNum = response.data.goodNum;\n        item.wwcreatedStr = response.data.created;\n        item.jiangquan = response.data.type6;\n        item.avatar = '';\n        item.finishTsStr = response.data.queryTime;\n        item.weekCreditAverage = response.data.buyerAvg;\n        addTaobao(item);\n        resolve(1);\n      } else {\n        resolve(0);\n      }\n    });\n  });\n};\n\nexports.yanhaoBoxQuery = yanhaoBoxQuery;",null]}